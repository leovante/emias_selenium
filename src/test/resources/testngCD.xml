<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Name suite - CD" thread-count="5" parallel="classes">
    <!--<parameter name="config" value="local.conf.json"/>-->
    <!--<parameter name="environment" value="chrome"/>-->
    <parameter name="site" value="http://emias.mosreg.ru/demonstration"/>
    <parameter name="login" value="temnikov"/>
    <parameter name="pass" value="1214"/>
    <parameter name="gridIsRun" value="true"/>
    <parameter name="headless" value="false"/>
    <parameter name="use_url" value="true"/>

    <listeners>
        <listener class-name="utilities.testngRetryCount.AnnotationTransformer"/>
    </listeners>
    <!--chrome-->
    <test name="TestCD_Chrome_Before" verbose="1">
        <parameter name="browser" value="chrome"/>
        <packages>
            <package name="emias.calldoctor.before"/>
        </packages>
    </test>
    <test name="TestCD_Chrome" verbose="1" parallel="true">
        <parameter name="browser" value="chrome"/>
        <groups>
            <run>
                <include name="CD"/>
            </run>
        </groups>
        <packages>
            <package name="emias.calldoctor.function"/>
            <package name="emias.calldoctor.regress"/>
        </packages>
    </test>
    <test name="TestCD_Chrome_After" verbose="1">
        <parameter name="browser" value="chrome"/>
        <packages>
            <package name="emias.calldoctor.after"/>
        </packages>
    </test>
    <!--firefox-->
    <test name="TestCD_Firefox_Before" verbose="1">
        <parameter name="browser" value="firefox"/>
        <packages>
            <package name="emias.calldoctor.before"/>
        </packages>
    </test>
    <test name="TestCD_Firefox" verbose="1" parallel="true">
        <parameter name="browser" value="firefox"/>
        <groups>
            <run>
                <include name="CD"/>
            </run>
        </groups>
        <packages>
            <package name="emias.calldoctor.function"/>
            <package name="emias.calldoctor.regress"/>
        </packages>
    </test>
    <test name="TestCD_Firefox_After" verbose="1">
        <parameter name="browser" value="firefox"/>
        <packages>
            <package name="emias.calldoctor.after"/>
        </packages>
    </test>
</suite>