<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Name suite - Regress" thread-count="5" parallel="classes">
    <!--<parameter name="config" value="local.conf.json"/>-->
    <!--<parameter name="environment" value="chrome"/>-->
    <parameter name="site" value="http://emias.mosreg.ru/demonstration"/>
    <parameter name="login" value="temnikov"/>
    <parameter name="pass" value="1215"/>
    <parameter name="gridIsRun" value="true"/>
    <parameter name="headless" value="true"/>

    <listeners>
        <listener class-name="utilities.testngRetryCount.AnnotationTransformer"/>
    </listeners>

    <!--Диспетчер-->
    <test name="BeforeTestCD" verbose="1">
        <parameter name="browser" value="chrome"/>
        <packages>
            <package name="emias.callDoctor.before"/>
        </packages>
    </test>
    <test name="ChromeTestCD" verbose="1" parallel="true">
        <parameter name="browser" value="chrome"/>
        <groups>
            <run>
                <include name="CD"/>
            </run>
        </groups>
        <packages>
            <package name="emias.callDoctor.function"/>
            <package name="emias.callDoctor.regress"/>
        </packages>
    </test>
    <test name="AfterTestCD" verbose="1">
        <parameter name="browser" value="chrome"/>
        <packages>
            <package name="emias.callDoctor.after"/>
        </packages>
    </test>

    <!--Диспансеризация-->
    <test name="BeforeTestDisp" verbose="1">
        <parameter name="browser" value="chrome"/>
        <classes>
            <class name="emias.disp.before.BeforeSuiteDisp"/>
        </classes>
    </test>
    <test name="ChromeTestDisp" verbose="1">
        <parameter name="browser" value="chrome"/>
        <groups>
            <run>
                <include name="disp"/>
            </run>
        </groups>
        <packages>
            <package name="emias.disp.regress"/>
        </packages>
    </test>

    <!--ЕМИАС веб-->
    <test name="BeforeTestMIS" verbose="1">
        <parameter name="browser" value="chrome"/>
        <packages>
            <package name="emias.mis.before"/>
        </packages>
    </test>
    <test name="ChromeTestMIS" verbose="1">
        <parameter name="browser" value="chrome"/>
        <groups>
            <run>
                <include name="mis"/>
            </run>
        </groups>
        <packages>
            <package name="emias.mis.regress"/>
        </packages>
    </test>
</suite>