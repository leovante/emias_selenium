Планы:
2. начать использовать dataProvider
3. добавить проверки в мисе
поднять свой тестовый стенд для прогонов mis+диспетчер
репликация базы данных на актуальную

ТЕСТИРОВАНИЕ МОДУЛЯ CallDoctor
КЕЙСЫ:
1.Создание нового вызова
-Создать с источниками СМП и Регистратура
-Создать через КЦ, СМП, Портал
-Проверить корректность введеных данных и заполненость всех полей на краткой карте вызова
-Проверить корректность введенных данных на полной карте вызова (полностью заполненной и минимально заполненной)
-Отображение истории
-Проверка что вызов находится в категории новые
-Проверка временных характеристик созданного вызова
-Проверка счетчика вызовов
-Изменение набора полей в зависимости от источника
-Проверка соответствия возрастной категории
-Проверить валидацию на адрес, возрастную категорию, номер телефона

2.Изменить карту вызова
-Изменить все данные карты вызова
-Проверить корректность изменнных данных на краткой карте вызова
-Проверить корректность измененных данных на подробной карте вызова

3.Отменить вызов [в группах новые, активные, в мисе, подробной карте, при редактировании]
-Указать причину и отменить вызов
-Отменить вызов без указания причины
-Проверить что вызов не отображается
-Проверить валидацию на указание причины

4.Перевод вызова в группу Активные [назначить врача]
-Проверить изменение статуса
-Проверить отображение в группе активные
-Проверить таймеры
-На форме назначения врача первым отображается участковый врач
-Проверить поиск по врачам
-Список врачей соответствует расписанию с ячейками «Вызов на дом»
-Проверить загруженность врачей и обновление этой информации

4.1Назначение на сегодня/завтра
-Проверить что на завтра не происходит отсчета времени
-Назначить на врача с расписанем 100%

5.Передать вызов другому врачу
-Проверить изменение в истории вызова
-Проверить изменение назначенного врача

6.Перевод вызов в другое ЛПУ
-Проверить поиск ЛПУ
-Проверить изменение статуса
-Проверить изменение истории вызова
-Проверить что вызов не отображается

7.Передать вызов в другое подразделение
-Проверить поиск подразделений
-Проверить отображение подразделений в соответствии с ЛПУ
-Проверить изменение истории у вызова
-Проверить что вызов отображается у всех подразделений в группе новые

8.Перевод в группу обслуженные //через мис, вд
-Проверить что вызов появился в группе обслуженные
-Проверить изменение статуса
-Проверить изменение истории
-Проверить индикаторы МКАБ, ТАП
-Корректное отображение по врачам
-Проверить таймеры

10.Фильтры
-Фильтр ФИО ищет по фамилии имени отчеству
-фильтр ФИО ищет по имени
-фильтр ФИО ищет по фамилии
-фильтр врач отображает список врача со всех его участков
-фильтр врач корректно работает
-фильтр возрастная категория - дети отображает только вызовы с иконкой соски в кратких картах вызова
-фильтр возрастная категория - дети отображает вызова только младше 18 лет в подробной карет вызова
-фильтр возрастная категория - взрослые отображает только вызовы без иконки соски в кратких картах вызова
-фильтр возрастная категория - взрослые отображает вызова только старше 18 лет в подробной карте вызова
//делать массив данных со страницы, потом лезть в базу и проверять на возраст
-фильтр подразделений ЛПУ корректно отображает все подразделения

11.Группа новые
-корректность отображения врачей
-обновление количественных значений карточек
-проверка кнопки печати группы, отображение всех вызовов
-проверка кнопки печати врача, корректное отображение информации
-корректная сортировка

12.Группа активные
-корректность отображения врачей
-обновление количественных значений карточек
-проверка кнопки печати группы, отображение всех вызовов
-проверка кнопки печати врача, корректное отображение информации
-корректная сортировка

13.Группа обслуженные
-корректность отображения врачей
-обновление количественных значений карточек
-проверка кнопки печати группы, отображение всех вызовов
-проверка кнопки печати врача, корректное отображение информации
-корректная сортировка

14.Завершить вызов
-Завершить вызов и проверить что он не отображается в группе обслуженные
-Проверить валидацию на наличие МКАБ, ТАП
-Проверить индикаторы в подробной карте вызова на МКАБ, ТАП

15.Взаимодействие мис и вд
-Создать новый вызов в ЕМИАС со всеми данными
 В новом интерфейсе ВД должен появиться вызов.
-В новом интерфейсе назначить врача вызову
-В ЕМИАС перевести вызов в группу обслуженные
 В новом интерфейсе вызов перейдет в группу обслуженные
-Завершить вызов
 В новом интерфейсе вызов пропадает из группы обслуженные
-Создать новый вызов в ЕМИАС и через новый интерфейс перевести его в другое ЛПУ.
 Изменение статуса, вызов больше не отображаетсяв текущем ЛПУ
-Создать новый вызов в ЕМИАС, назначить врача в ВД и сменить врача на другого
 Вызов пропадает у одного врача и появляется у другого. Проверить корректность истории вызова в ВД
-Создаем новый вызов через интерфейс ЕМИАС, после чего отменяем его в новом интерфейсе
 Проверить корректность истории вызова в полной карточке
-Переход из мис в вд соответствует роли врача